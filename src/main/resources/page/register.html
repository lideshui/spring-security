<!DOCTYPE html>
<!-- saved from url=(0240)https://space-static.coze.cn/7522451603347505449/%E6%B0%B4%E5%A4%84%E7%90%86%E7%B3%BB%E7%BB%9F%E6%B3%A8%E5%86%8C%E9%A1%B5%E9%9D%A2-18ec5eae83.html?sign=1757723494-22c45c8fe1-0-beab8ae2a91c726271dfd30c6688c9d25f61c1af232a12ac1c2fbf35e31d93b1 -->
<html lang="zh-CN"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--js-->
    <script type="text/javascript" src="/js/vue.js"></script>
    <script type="text/javascript" src="/js/plugins/element-ui.js"></script>
    <script type="text/javascript" src="/js/plugins/axios.js"></script>
    <!--css-->
    <link rel="stylesheet" type="text/css" href="/css/plugins/element-ui.css" />
    <title>B612小行星管理系统注册页</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Arial', sans-serif;
        }

        body {
            background-color: #ecf5ff;
            background-image: linear-gradient(to right, rgba(219, 234, 254, 0.6) 1px, transparent 1px),
            linear-gradient(to bottom, rgba(219, 234, 254, 0.6) 1px, transparent 1px);
            background-size: 40px 40px;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .register-container {
            background-color: white;
            border-radius: 10px;
            padding: 40px;
            width: 100%;
            max-width: 500px;
            box-shadow: 0 10px 25px -5px rgba(29, 78, 216, 0.1);
            position: relative;
            overflow: hidden;
        }

        .register-container::before,
        .register-container::after {
            content: '';
            position: absolute;
            width: 200px;
            height: 200px;
            background-color: rgba(59, 130, 246, 0.05);
            border-radius: 50%;
        }

        .register-container::before {
            top: -100px;
            right: -100px;
        }

        .register-container::after {
            bottom: -100px;
            left: -100px;
        }

        .logo-section {
            text-align: center;
            margin-bottom: 30px;
            position: relative;
        }

        .login-icon {
            width: 80px;
            height: 80px;
            margin: 0 auto 15px;
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        h1 {
            font-size: 24px;
            color: #1e293b;
            margin-bottom: 5px;
        }

        .system-name {
            font-size: 14px;
            color: #64748b;
            margin-bottom: 5px;
        }

        .register-title {
            font-size: 18px;
            color: #334155;
            margin-bottom: 25px;
            text-align: center;
            position: relative;
        }

        .form-group {
            margin-bottom: 20px;
            position: relative;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-size: 14px;
            color: #334155;
            font-weight: 500;
        }

        .input-wrapper {
            position: relative;
        }

        .el-input__inner {
            padding-left: 50px!important;
        }

        input {
            width: 100%;
            padding: 14px 15px 14px 45px;
            border: 1px solid #cbd5e1;
            border-radius: 6px;
            font-size: 14px;
            transition: all 0.2s ease;
            height: 48px;
            line-height: 48px; /* 确保文本垂直居中 */
        }

        input:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
        }

        .error-message {
            display: none;
            font-size: 12px;
            color: #ef4444;
            margin-top: 4px;
            align-items: center;
        }

        .error-message.show {
            display: flex;
        }

        .error-message svg {
            width: 14px;
            height: 14px;
            margin-right: 4px;
        }

        .icon {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            width: 20px;
            height: 20px;
            color: #94a3b8;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .icon svg {
            width: 100%;
            height: 100%;
            fill: currentColor;
        }

        .right-icon {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            width: 20px;
            height: 20px;
            color: #94a3b8;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .password-strength {
            height: 4px;
            width: 100%;
            background-color: #e2e8f0;
            border-radius: 2px;
            margin-top: 6px;
            overflow: hidden;
        }

        .strength-bar {
            height: 100%;
            width: 0%;
            transition: width 0.3s ease;
        }

        .strength-weak {
            width: 33%;
            background-color: #ef4444;
        }

        .strength-medium {
            width: 66%;
            background-color: #f59e0b;
        }

        .strength-strong {
            width: 100%;
            background-color: #22c55e;
        }

        .strength-text {
            font-size: 12px;
            margin-top: 4px;
            color: #64748b;
        }

        .code-group {
            display: flex;
            gap: 10px;
        }

        .code-group .input-wrapper {
            flex: 1;
            min-width: 0;
        }

        .send-code {
            padding: 0 15px;
            background-color: #3b82f6;
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.2s ease;
            white-space: nowrap;
            flex-shrink: 0;
            height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .send-code:disabled {
            background-color: #94a3b8;
            cursor: not-allowed;
        }

        .send-code:hover:not(:disabled) {
            background-color: #2563eb;
        }

        .agreement {
            display: flex;
            align-items: flex-start;
            margin-bottom: 25px;
        }

        .agreement input {
            width: auto;
            margin-right: 8px;
            margin-top: 3px;
            padding: 0;
            height: auto;
            line-height: normal;
        }

        .agreement label {
            margin-bottom: 0;
            font-weight: normal;
        }

        .agreement a {
            color: #3b82f6;
            text-decoration: none;
        }

        .agreement a:hover {
            text-decoration: underline;
        }

        .register-btn {
            width: 100%;
            padding: 12px;
            background-color: #3b82f6;
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .register-btn:hover, .el-button:focus {
            color: white;
            background-color: #2563eb;
            transform: translateY(-2px);
            box-shadow: 0 4px 6px -1px rgba(29, 78, 216, 0.2);
        }


        .register-btn:hover {
            background-color: #2563eb;
        }

        .login-link {
            text-align: center;
            margin-top: 20px;
            font-size: 14px;
            color: #64748b;
        }

        .login-link a {
            color: #3b82f6;
            text-decoration: none;
            font-weight: 500;
        }

        .login-link a:hover {
            text-decoration: underline;
        }

        .footer {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #e2e8f0;
            text-align: center;
        }

        .copyright {
            font-size: 12px;
            color: #94a3b8;
        }

        .toggle-password {
            background: none;
            border: none;
            padding: 0;
            width: 100%;
            height: 100%;
            cursor: pointer;
        }

        .password-icon {
            display: none;
            width: 100%;
            height: 100%;
        }

        .password-icon.active {
            display: block;
        }

        .el-button.is-disabled, .el-button.is-disabled:focus, .el-button.is-disabled:hover {
            color: #eae7e7;
            background-color: #5688f6 !important;
            transform: translateY(-2px);
            box-shadow: 0 4px 6px -1px rgba(29, 78, 216, 0.2);
        }
    </style>
</head>
<body>
<div id="vue" class="register-container">
    <div class="logo-section">
        <!-- 内联SVG图标 -->
        <svg t="1755138872360" class="login-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="" p-id="42725" width="200" height="200"><path d="M765.4 537.4c-0.4-73.4 32.8-128.8 100-169.6-37.6-53.8-94.4-83.4-169.4-89.2-71-5.6-148.6 41.4-177 41.4-30 0-98.8-39.4-152.8-39.4C254.6 282.4 136 369.6 136 547q0 78.6 28.8 162.4c25.6 73.4 118 253.4 214.4 250.4 50.4-1.2 86-35.8 151.6-35.8 63.6 0 96.6 35.8 152.8 35.8 97.2-1.4 180.8-165 205.2-238.6-130.4-61.4-123.4-180-123.4-183.8z m-113.2-328.4c54.6-64.8 49.6-123.8 48-145-48.2 2.8-104 32.8-135.8 69.8-35 39.6-55.6 88.6-51.2 143.8 52.2 4 99.8-22.8 139-68.6z" p-id="42726" fill="#707070"></path></svg>
        <h1>B612小行星管理系统</h1>
        <p class="system-name">B612 Asteroid Management System</p>
        <div class="register-title">账号注册</div>
    </div>

    <el-form :model="form" ref="form" :rules="rules" @submit.native.prevent="submitForm">
        <el-form-item prop="userName">
            <label style="margin-bottom: 0">用户名</label>
            <el-input placeholder="请输入用户名" v-model="form.userName">
                <template slot="prefix">
                    <svg t="1755138260119" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="41649" width="200" height="200"><path d="M512 512c141.4 0 256-114.6 256-256S653.4 0 512 0 256 114.6 256 256s114.6 256 256 256z m179.2 64h-33.4c-44.4 20.4-93.8 32-145.8 32s-101.2-11.6-145.8-32h-33.4C184.4 576 64 696.4 64 844.8V928c0 53 43 96 96 96h704c53 0 96-43 96-96v-83.2c0-148.4-120.4-268.8-268.8-268.8z" p-id="41650" fill="#707070"></path></svg>
                </template>
            </el-input>
        </el-form-item>

        <el-form-item prop="password">
            <label style="margin-bottom: 0">密码</label>
            <el-input placeholder="请输入密码" v-model="form.password" :type="showPassword ? 'text' : 'password'" autocomplete="off">
                <template slot="prefix">
                    <svg t="1755138176236" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="41173" width="200" height="200"><path d="M864 448h-48v-144C816 136.4 679.6 0 512 0S208 136.4 208 304v144H160c-53 0-96 43-96 96v384c0 53 43 96 96 96h704c53 0 96-43 96-96V544c0-53-43-96-96-96z m-208 0H368v-144c0-79.4 64.6-144 144-144s144 64.6 144 144v144z" p-id="41174" fill="#707070"></path></svg>
                </template>
                <i slot="suffix" class="el-input__icon el-icon-view" style="cursor: pointer" @click="showPassword = !showPassword"></i>
            </el-input>
        </el-form-item>

        <el-form-item prop="nickName">
            <label style="margin-bottom: 0">昵称</label>
            <el-input placeholder="请输入昵称" v-model="form.nickName">
                <template slot="prefix">
                    <svg t="1755155985621" class="icon" viewBox="0 0 1280 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="41103" width="200" height="200"><path d="M1261.2 729.8l-180.6-180.4c-24-24-56.6-37.4-90.6-37.4h-158.6c-35.4 0-64 28.6-64 64v158.4c0 34 13.4 66.4 37.4 90.4l180.6 180.4c25 25 65.6 25 90.6 0l185-185c25.2-25 25.2-65.4 0.2-90.4z m-365.6-42c-26.6 0-48-21.4-48-48s21.4-48 48-48 48 21.4 48 48c0 26.4-21.4 48-48 48z m-447.6-176c141.4 0 256-114.6 256-256C704 114.6 589.4 0 448 0S192 114.6 192 256c0 141.2 114.6 255.8 256 255.8z m255.6 222.4V588c-24.4-7.2-49.8-12.4-76.4-12.4h-33.4c-44.4 20.4-93.8 32-145.8 32s-101.2-11.6-145.8-32h-33.4C120.4 575.8 0 696.2 0 844.6v83.2c0 53 43 96 96 96h704c31 0 58.2-15 75.8-37.8l-116-116c-36.2-36.2-56.2-84.4-56.2-135.8z" p-id="41104" fill="#707070"></path></svg>
                </template>
            </el-input>
        </el-form-item>

        <el-form-item prop="email">
            <label style="margin-bottom: 0">邮箱</label>
            <el-input placeholder="请输入邮箱" v-model="form.email">
                <template slot="prefix">
                    <svg t="1755156176716" class="icon" viewBox="0 0 1152 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="41439" width="200" height="200"><path d="M320 896c-51.2 0-102.4-44.8-128-64-128-89.6-166.4-121.6-192-140.8V960c0 35.34 28.66 64 64 64h512c35.34 0 64-28.66 64-64V691.2c-25.6 19.2-64 51.2-192 140.8-25.6 19.2-76.8 64-128 64z m256-384H64c-35.34 0-64 28.66-64 64v32c51.2 38.4 44.8 38.4 230.4 172.8 19.2 12.8 57.6 51.2 89.6 51.2s70.4-38.4 89.6-44.8c185.6-134.4 179.2-134.4 230.4-172.8V576c0-35.34-28.66-64-64-64z m512-192H448c-35.34 0-64 28.66-64 64v64h192c66.42 0 121.18 50.84 127.42 115.64l0.58-0.44V832h384c35.34 0 64-28.66 64-64V384c0-35.34-28.66-64-64-64z m-64 256h-128v-128h128v128z m-704-192c0-70.58 57.42-128 128-128h448V64c0-35.34-28.66-64-64-64H192C156.66 0 128 28.66 128 64v384h192v-64z" p-id="41440" fill="#707070"></path></svg>
                </template>
            </el-input>
        </el-form-item>

        <el-form-item prop="phone">
            <label style="margin-bottom: 0">手机号</label>
            <el-input placeholder="请输入手机号" v-model="form.phone">
                <template slot="prefix">
                    <svg t="1755156206899" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="41655" width="200" height="200"><path d="M864 64H160C106.98 64 64 106.98 64 160v704c0 53.02 42.98 96 96 96h704c53.02 0 96-42.98 96-96V160c0-53.02-42.98-96-96-96zM252 832c-14.066 0-26.114-9.746-29.232-23.254l-29.996-130a30 30 0 0 1 17.414-34.32l139.996-59.998a30 30 0 0 1 35.036 8.578l61.994 75.77c97.888-45.926 176.594-125.716 221.562-221.56l-75.772-61.994a30.002 30.002 0 0 1-8.578-35.036l60-139.996a30 30 0 0 1 34.32-17.414l130 29.996A29.994 29.994 0 0 1 832 252c0 320.584-259.89 580-580 580z" p-id="41656" fill="#707070"></path></svg>
                </template>
            </el-input>
        </el-form-item>

        <div class="agreement">
            <el-checkbox v-model="checked">我已阅读并同意《用户服务协议》和《隐私政策》</el-checkbox>
        </div>

        <el-button class="register-btn" native-type="submit" :disabled="isRegister">注册</el-button>

        <div class="login-link">
            已有账号？<el-link href="/login" type="primary" :underline="false">立即登录</el-link>
        </div>

        <div class="footer">
            <p class="copyright">© 2260 B612小行星有限公司. 版权所有</p>
        </div>
    </el-form>
</div>

<script th:inline="javascript">
    let item = new Vue({
        el: '#vue',
        data() {
            return {
                checked: false,
                isRegister: false,
                form: {
                    userName: '',
                    password: '',
                    nickName: '',
                    email: '',
                    phone: '',
                    status: 1,
                },
                rules: {
                    userName: [{required: true, message: '请输入用户名', trigger: 'blur'}],
                    password: [
                        { required: true, message: '请输入密码', trigger: 'blur' },
                        {
                            validator: (rule, value, callback) => {
                                if (value.length < 6) {
                                    callback(new Error('密码至少6位'));
                                } else {
                                    callback();
                                }
                            },
                            trigger: 'blur'
                        }
                    ],
                    nickName: [{required: true, message: '请输入昵称', trigger: 'blur'}],
                    email: [{required: true, message: '请输入邮箱', trigger: 'blur'}],
                    phone: [{required: true, message: '请输入手机号', trigger: 'blur'}],
                },
                showPassword: false,
                strengthText: '未输入',
                strengthClass: '',
                passwordError: false,
                codeCountdown: 0
            };
        },
        methods: {
            // 提交表单
            submitForm() {
                if(!this.checked){
                    this.$message.warning("请先阅读并同意《用户协议》!");
                    return;
                }
                this.$refs['form'].validate((valid) => {
                    if (valid) {
                        this.isRegister = true
                        axios.post('/api/auth/register', this.form)
                            .then(response => {
                                if(response.data.code === 200){
                                    this.$message.success("注册成功!");
                                    window.location.href = '/login';
                                }else {
                                    this.$message.error(response.data.data);
                                }
                            })
                            .catch(error => {
                                this.$message.error("注册失败: " + error.message);
                            }).finally(()=>{
                            this.isRegister = false
                        });
                    } else {
                        console.log('表单验证失败');
                        return false;
                    }
                });
            },
        },
    })
</script>

</body>
</html>